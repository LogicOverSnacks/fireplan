<app-page-title (add)="addGraph()">Graphs</app-page-title>

<mat-list>
  @for (graph of graphs | async | keyvalue; track graph.key) {
    <mat-list-item>
      <span class="name">{{graph.key}}</span>
      <div matListItemMeta>
        <button mat-icon-button (click)="editGraph(graph.key, graph.value)" matTooltip="Edit">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button (click)="deleteGraph(graph.key)" matTooltip="Delete">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </mat-list-item>
  }
</mat-list>

<form class="graph-selection" [formGroup]="form">
  <mat-form-field subscriptSizing="dynamic">
    <mat-label>Inflation</mat-label>
    <mat-select formControlName="inflation">
      @for (graph of graphs | async | keyvalue; track graph.key) {
        <mat-option [value]="graph.key">{{graph.key}}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field subscriptSizing="dynamic">
    <mat-label>Cash</mat-label>
    <mat-select formControlName="cash">
      @for (graph of graphs | async | keyvalue; track graph.key) {
        <mat-option [value]="graph.key">{{graph.key}}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field subscriptSizing="dynamic">
    <mat-label>Bonds</mat-label>
    <mat-select formControlName="bonds">
      @for (graph of graphs | async | keyvalue; track graph.key) {
        <mat-option [value]="graph.key">{{graph.key}}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field subscriptSizing="dynamic">
    <mat-label>Stocks</mat-label>
    <mat-select formControlName="stocks">
      @for (graph of graphs | async | keyvalue; track graph.key) {
        <mat-option [value]="graph.key">{{graph.key}}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field subscriptSizing="dynamic">
    <mat-label>Crypto</mat-label>
    <mat-select formControlName="crypto">
      @for (graph of graphs | async | keyvalue; track graph.key) {
        <mat-option [value]="graph.key">{{graph.key}}</mat-option>
      }
    </mat-select>
  </mat-form-field>
</form>
